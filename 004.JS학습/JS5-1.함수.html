<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>JS5-1. 함수(function)</title>
    <style>
        body {
            background: url(https://images.adsttc.com/media/images/5f73/76e0/63c0/17bc/c900/04e8/large_jpg/HK_1_N3.jpg?1601402564) no-repeat fixed center/cover;
        }

        h2 {
            font-size: 5vh;
            color: #fff;
            text-shadow: 0 0 5px #000;
            text-align: center;
        }

        button {
            font-size: 40px;
        }
    </style>
    <script>
        // 온라인상 배경이미지 주소를 배열로 셋팅
        const scene = [

            "https://www.thetimes.co.uk/imageserver/image/%2Fmethode%2Fsundaytimes%2Fprod%2Fweb%2Fbin%2F1ee63066-4239-11ec-b414-b1f6389ab345.jpg?crop=2667%2C1500%2C0%2C0&resize=1200",

            "https://www.asml.com/-/media/asml/images/careers/working-at-asml/south-korea/gyeongbokgung_palace_south_korea.jpg?mw=1920&rev=5154661f5c8943bb8c81419c01b327e2&hash=30B844A1D30F8A9B2BB0A2FE6377E953",

            "https://images.adsttc.com/media/images/5f73/76e0/63c0/17bc/c900/04e8/large_jpg/HK_1_N3.jpg?1601402564",
        ];
        /* 
            [ 함수란? ]
            - JS의 특정실행코드 담고 있는 메모리 공간
            - 특징: 함수는 호출시에만 실행된다!
                    함수는 주로 이벤트와 연결되어 사용된다!
            - 형식:
                function 함수명(변수){
                    ... 실행코드 ...
                    return 값;
                }

            [ 함수의 주요사항 ]
            1. 함수의 소괄호에 사용되는 변수는 안쓸 수 도 있고
                1개이상 변수를 사용할 수 있다.
                - 여러개 사용할 경우 콤마로 구분한다.
                - 이런 변수를 파라미터변수(전달변수)라고 부른다.
                - 이 변수는 함수 내부에서만 사용하므로 지역변수라고함
                    (다른 함수나 함수 바깥쪽 영역에서는 
                        이 변수를 알 수 없음!)
                - 파라미터변수는 선언하지 않는다!(자동선언됨)
                - 파라미터변수의 개수만큼 함수 호출시 같은 개수의 값을
                보내야한다!!!

                ->>> 파라미터 변수 없이 전달값 받는 방법
                함수안에 arguments라는 변수받는 배열변수가 셋팅된다!
                보낸 순서대로 배열순번으로 찍을 수 있다!
                (단, 화살표함수에서는 사용불가!)
                예) 
                function Fn(){
                    console.log(arguments[2])
                    // 아래호출에 따라 콘솔에 "사람"이 찍힘!
                }
                호출코드:
                Fn("고양이","강아지","사람");

            2. 함수를 나오기 전에 return  키워드를 쓰고 그 뒤에 
                값을 담은 변수나 어떤값을 쓰면 함수를 호출한 곳으로
                돌아올때 이 값을 가지고 돌아간다!
                (리턴값을 사용안 할 수도 있는 옵션이다!)

            3. 함수의 호출:
                - 함수명(값)
                - 함수를 호출할때는 반드시 오른쪽에 소괄호가 있어야함!
                (소괄호 없이 사용하면 그것은 변수다!)
                - 소괄호의 값은 함수의 파라미터변수의 개수에 따라 달라짐
        
            4. 함수를 만들고 먼저할일!
                - 함수가 호출되는 여부를 확인한다!
                (확인방법: alert, console.log 등)
            
            5. 전역변수, 지역변수

                (1) 전역변수(Global Variable) 는 함수바깥쪽에 선언한
                변수다. 따라서 모든 다른 함수에서 이 변수를 참조할 수 있다.

                (2) 지역변수(Local Variable) 는 함수 내부에서 선언하거나
                    파라미터변수를 말한다. 함수 외부나 다른 함수에서 이를
                    참조할 수 없다. 지역변수는 다른 함수에서 선언된 같은
                    이름의 변수명을 사용할 수 있다.
                
            6. 함수명은 대소문자를 철저히 구분한다!
                예) myHome(), MyHome(), myHOME() 모두 다른함수임!!


            [ 함수의 종류 ]

            1. 선언적 함수(이름있는함수)

            - 브라우저 인터프리터(우리가 사용하는 문자로된 코드를
            컴퓨터가 이해할 수 있는 방식의 기계어로 해석해주는
            프로그램)가 프로그램 실행 전에 선언적함수만 따로 모아서
            VO(Variable Object)에 적재함. 따라서 선언적함수는
            어디서 호출해도 응답한다!!!

            (형태)
            function 함수명(){}
            -> 선언적 함수는 다른 함수 내부에 만들지 말자!
            -> 스크립트 구역 바로 안에 만들면 전역적 함수가 됨
            : 전역적 함수란 어디에서든 호출되는 함수를 말함.


            2. 익명함수(이름없는함수: Anonymous Function)

            - 함수 자체에 이름이 없고 변수에 할당을 하거나
            다른 메서드나 함수 내부의 함수자리에 사용한다!

            - 함수의 호출은 할당한 변수에 소괄호를 붙여서 호출함

            - 함수의 호출위치는 변수에 할당 후 아래쪽에서 호출해야함!
            (이유: 선언적함수와 달리 미리 VO에 적재되지 않고
            코드를 만나면 그때 생성되기 때문이다!)

            - 익명함수를 쓰는 이유 장점 :

            (1) 함수코드가 미리 로딩되지 않기 때문에 메모리 부담이
            적고 소스 로딩속도가 빠르다!

            (2) 바로 실행하면 안되는 코드를 직접 저장할 수 있다!

                1) 요소의 이벤트 속성에 코드를 할당해서 바로 실행하지
                않고 이벤트발생시에 실행하도록 코딩할때 유용함!

                예)

                document.getElementById("my")
                .onclick = function(){실행코드};

                2) JS내장함수의 외부 선언적함수를 만들지 않고
                바로 코드를 저장할 수 있다!

                예)

                document.getElementById("my")
                .addEventListener("click",function(){실행코드});

                3) 함수에서 코드를 리턴할때 익명함수를 사용함!

                예)

                function 함수명(){
                    return function(){실행코드};
                }

                4) 제이쿼리에서 코드 작성 부분에 익명함수를 사용함!
                
                예)

                $(function(){실행코드});

            
            - 익명함수를 쓸때의 단점:
            함수를 생성 후 호출해야 하므로 코딩순서에 신경써야함!

            -> 익명함수의 활용도 높아서 JS 업데이트 버전에서
            줄여서 쓸 수 있도록 화살표함수(Arrow Function)를
            제공한다!

                function(){} 
                아래와 같이 줄여씀!
                ()=>{}
        */


        /*////////////////////////////////
            함수명: Korea
            기능: 다른함수호출
        */ ////////////////////////////////
        function Korea(txt) {
            // 1. 함수 호출, 전달값 확인
            alert(txt); // '우'가 뜸
            // : alert로 확인하는 이유 = 제어권을 가지고 있어서 얘 때문에 멈춤

            // 2. 다른 함수 호출하기
            let ri = Ri(txt + "리"); // "우리" 만들어서 전달

            // 3. 리턴값 찍기
            alert(ri);  // "우리나라 대한민"까지 찍힐 것 에상

            // 4. 리턴값 보내기
            return ri + "국 만세!!!";  // "우리나라 대한민국 만세!!!"를 가지고 호출한 곳으로 돌아감!!!
            
            
        } ///// Korea함수 ////////////////
        //////////////////////////////////


        /*////////////////////////////////
            함수명: Ri
            기능: 다른함수호출
        */ ////////////////////////////////
        function Ri(txt) {
            // 1. 함수 호출, 전달값 확인
            alert(txt); // "우리" 찍힐 것 예상

            // 2. 다른 함수 호출하기
            let na = Na(txt + "나"); // "우리나" 까지 만들어서 전달함

            // 3. 리턴값 찍기
            alert(na);  // "우리나라 대한"까지 찍힐 것 예상

            // 4. 리턴값 보내기
            return na + "민";  // "우리나라 대한민"까지를 가지고 호출한 곳으로 돌아감!!!


        } ///// Ri함수 ////////////////
        //////////////////////////////////


        /*////////////////////////////////
            함수명: Na
            기능: 다른함수호출
        */ ////////////////////////////////
        function Na(txt) {
            // 1. 함수 호출, 전달값 확인
            alert(txt); // "우리나" 찍힐 것 예상

            // 2. 다른 함수 호출하기
            let ra = Ra(txt + "라"); // "우리나라" 전달
            // : 함수가 리턴받은 결과값을 담기 위해 변수에 할당하는 것임
            // 쌤 왈 : 변수에 함수를 담으면 그 함수가 리턴한 값이 변수에 할당된다!!!
            // 보통 변수에 함수를 할당하면 이런 이유 때문이다!!

            // 3. 리턴값 찍기
            alert(ra);  // "우리나라 대"까지 찍힘

            // 4. 리턴값 보내기
            return ra + "한";  // "우리나라 대한"까지를 가지고 호출한 곳으로 돌아감!!
            // 함수에서 마지막으로 보고하는 순간은 return임 정말 찐 최종이라서, 이 아래쪽에 쓰는 것들은 실행이 안되고 리턴만나자마자 돌아가버림!

        } ///// Na함수 ////////////////
        //////////////////////////////////


        /*////////////////////////////////
            함수명: Ra
            기능: 다른함수호출
        */ ////////////////////////////////
        function Ra(txt) {
            // 1. 함수 호출, 전달값 확인
            alert(txt); // "우리나라" 찍힐 것 예상

            // 2.리턴값 보내기! -> 호출한 곳으로 돌아감
            return txt + " 대";  // "우리나라 대"를 호출한 곳으로 보냄 (호출한 곳 : Na()의 {}로 감)
        } ///// Ra함수 ////////////////
        //////////////////////////////////


        // 선언적 함수보다 위에서 이 함수를 호출! //
        callMe("함수보다 윗줄에서 호출!");



        ////////////////////// 선언적 함수 ////////////////////////
        // JS 코드를 실행하기 전, 선언적 함수만 미리 VO라는 적재 공간에 모두 로딩함 (먼저 읽어들인다)
        function callMe(txt){  // txt : 파라미터 (전달변수)
            console.log("나, 불렀어?", txt);
            // : 호출됨! 어떻게? -> 미리 로딩되었다는 증거임!!
            // 코드 위에서 호출되므로 이것을 '함수호출 호이스팅(Hoisting)'이라고 부름

        } ////////////////// callMe() 함수 끝 - 선언적 함수라서 세미콜론 안 씀(?) /////////////////

        // 각종 제어문, 선언적 함수에는 세미콜론이 붙지 않음


        // 할당형 익명함수를 코드 윗줄에서 호출해보기
        // myHome("익명함수 윗줄에서 호출!");
        // : 위에서 호출 불가! 왜? -> 변수에 할당하는 순간 생성되기 때문!
        // (그래서 아래쪽에서 호출해야 함)
        // 에러 메시지 : Uncaught ReferenceError: Cannot access 'myHome' before initialization 

        
        /////////////////////// 할당형 익명함수 ////////////////////////
        // 변수에 익명함수를 할당하여 호출하는 것!
        const myHome = function(txt){  // txt : 전달변수
            console.log("오! 나의 집!", txt);
        }; ///////////////// myHome() 함수 끝 ////////////////////////
        // 얘를 쓰는 이유 중 하나!! : 실행,호출할 때 얘가 속도가 굉장히 빨라서! vo로 적재하는 것보다 빨라서... 씀

        // 할당형 익명함수를 코드 아랫줄에서 호출해보기
        myHome("익명함수 아랫줄에서 호출!");
        // : 할당형 익명함수는 변수에 할당하는 순간에 생성되기 때문에 윗줄에서 호출할 수 없음!!
        // => 그래서 아랫줄에서 호출해야 함!!

        // ✨ 만약 함수를 처음부터 호출하는 경우라면, 할당형 익명함수는 반드시 생성한 후에 아랫줄에서 호출해야 한다!!




        /*********************************************
            [ 타이밍 함수 (Timing Function) ]
        -일정 시간 후 자동으로 호출되는 기능을 가진 JS 내장 함수
        
        1.인터발 함수 : setInterval(함수, 시간)
        -설정된 시간 간격으로 함수를 계속 호출함!
            1) 함수 : 외부함수 / 익명함수 모두 가능
            2) 시간 : 1/1000초 (단위 생략)
                ex) 1000 => 1초임
        ex) setInterval(function(){코드}, 3000) => 3초 간격으로 function(){}내의 코드 실행함

        2.타임아웃 함수 : setTimeout(함수, 시간)
        -설정된 시간 후, 함수를 한번만 호출함!
            1) 함수 : 외부함수 / 익명함수 모두 가능
            2) 시간 : 1/1000초 (단위 생략)
                ex) 1000 => 1초임
        ex) setTimeout(function(){코드}, 800) => 0.8초 후에 function(){}내의 코드를 딱 한번만 실행함

        ->>> 함수가 외부에 있을 경우, 그 함수명만 써서 함수를 등록하거나 외부함수가 전달값이 있을 경우 익명함수 구역 안에서 코드를 작성한다!
        ex) setInterval(hahaha, 2000);
            function hahaha(){코드};

        ex) setInterval(hahaha(전달변수), 2000);
            function hahaha(txt){코드};
        -> 이경우 소괄호()가 있으니까 함수가 무조건 먼저 실행됨! 이걸 막아야함

        ex) setInterval(funcion(){hahaha(전달변수)};, 2000);
            function hahaha(txt){코드};
        -> 이렇게 익명함수 구역으로 감싸놔야 잠깐 기다려~! 가 된다

        *********************************************/

        ///////////////////// 일정시간 간격으로 배경이미지 변경하기 ///////////////////
        // 1.인터발 함수 사용
        // 구현내용 : 3초 간격으로 배경이미지를 배열데이터 순서대로 변경

        // 배열 순번 변수(배열은 0부터 시작임)
        let seq = 0;
        // : 숫자를 쓰면 바뀔 수 있을 때 바꾸기 힘듬(?)

        // 현재 배열 개수 변수
        const cnt = scene.length;
        console.log("scene 배열 개수 : ", cnt);
        // ->>> seq와 cnt는 함수 밖에서 만들어서 전역변수(?)가 되어야 함!! 왜냐? 그래야지 함수가 끝나도 안사라지고 계속 숫자 누적시켜서 계속 써먹지!!

        setInterval(function(){
            
            // 1. body의 배경이미지 변경하기
            document.body.style.backgroundImage = `url(${scene[seq]})`;

            console.log("나, 인터발!", seq);

            // 다음번을 위해 1씩 증가시키기
            seq++;
            // : 계속 증가해서 100개 넘어가고 그러면 안되니까 한계를 줘야함

            // 한계수 지정 : 배열끝번호 -> '배열개수 - 1'
            if(seq === cnt) seq = 0;
            // : 개수와 같은 수가 되면 처음으로 돌려보내기 위해서 0을 할당시킴!

        }, 3000); ////// 인터발 함수 끝 ///////
        //////////////////////////////////////////////////////////////////////////////////////



        ///////////////////// 일정 시간 후 한번만! 애국가 가사를 body에 h2태그로 넣기 ///////////////////
        // 2.타임아웃 함수 사용
        // setTimeout(함수, 시간)
        // : 2초 후에 딱 한번 실행
        setTimeout(function(){
            myFn("동해물과", "백두산이", "마르고 닳도록", "하느님이 보우하사", "우리나라 만세!!");
        }, 2000);  //////// timeout() 함수 끝 ////////

        /*******************************************************************
            함수명 : myFn
            기능 : 파라미터 얼마든지 받아서 h2 만들어 넣기
        *******************************************************************/
        // arguments는 익명함수에서 사용할 수 없다!
        // 일반적으로 선언적 함수, 할당형 익명함수에서는 arguments 사용할 수 있다!
        // const myFn = () => {
        // const myFn = function(){
        function myFn(){  // 파라미터 전혀 없음!!!!
            // : 익명함수는 파라미터를 맘대로 받아서 쓸 수가 없어! 이럴땐 선언함수 써야해!

            // 1.호출확인
            console.log("내 함수!", arguments, typeof(arguments), typeof(scene));
            // arguments : 파라미터들, 전달변수들이라는 의미
            // -> 더미?하게 던질 때..... 아규먼츠로 전부 다 받아줄 수 있음...(?) 그럴 때 씀..(?)

            // 함수의 전달변수가 없어도, 보내는 전달값이 있으면 함수의 arguments라는 전달변수 배열객체(내장객체임)에 값을 담는다!

            // 2.대상 선정 : body
            const tg = document.body;

            // 3.배열값 자동 돌리기
            for(let i = 0; i < arguments.length; i++){
                tg.innerHTML += `<h2>${arguments[i]}</h2>`;
                // : 그냥 할당연산자인 = 를 쓰면 기존값이 사라지니까!!! +=를 써서 기존 값을 살린 채로 집어넣기 (대입 연산자)
            } ////////// for문 끝 /////////////


        } ///////// myFn() 함수 끝 //////////////

        ///////////////////////////////////////////////////////////////////////////////////////////////
        // ->>> 우리가 여기서 체크하려고 했던 것은 : 아규먼츠 쓰면 전달값 얼마든지 여러개 써도 오케이! / 익명함수에서는 아규먼츠 사용 불가!


    </script>
</head>

<body>

    <button onclick="alert(Korea('우'))">우리나라 대한민국 만세 프로젝트 시작!</button>
    <!--
        [ JS의 일반적인 실행 순서 ]
    1.위에서 아래로
    2.이퀄'=' 오른쪽에서 왼쪽으로
    3.소괄호() 안에서 바깥으로
    4.(함수가 있을 경우) 함수 바깥부터 실행 / 호출시 함수 실행
    -->

</body>

</html>