<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS3-1. 제어문 - if문, switch case문, for문, while문</title>
        <!-- JS 코드 구역 -->
        <script>
            /* 예전에는 <script type="text/javascript"> 이런식으로 썼어야 했는데, 한자라도 오타내면 에러나서 안 나오니까 이제는 쓰지 않는 게 보통임!! */

            /*********************************************************** 
        함수명 : jumsu
        기능 : 점수에 따른 평가 출력하기
            1. 점수에 따른 메시지 출력
            2. 점수에 따른 메시지 글자색 변경
            3. 점수에 따른 칭찬 스티커 보이기
    ***********************************************************/

            function jumsu() {
                // 함수는 코드를 저장하는 공간임!
                // 어떤 값을 가져오거나 가지고 나갈 수 있음!

                // 1. 함수를 만들고 처음 할 일은? 호출확인!
                // console.log("점수요~~~~!");

                // 2. 대상 선정
                // 2-1. 점수 입력 요소 : input#jumsu (종속 선택자)
                var jumsu = document.getElementById("jumsu");
                // getElementById(아이디명)

                // 2-2. 출력 요소 : #jexp
                var jexp = document.querySelector("#jexp");
                // querySelector(CSS 선택자)

                // 2-3. 칭찬스티커 : #jshow
                var jshow = document.querySelector("#jshow");

                // 3. 입력값 읽어오기
                var score = jumsu.value;
                // value 속성 : 입력된 값을 읽기 혹은 쓰기!

                console.log("입력된 값 : ", score); // ,말고 +도 쓸 수 있음
                // console.log("데이터형 : " + typeof(score));
                // typeof(변수) -> 데이터형을 리턴함!
                // 숫자든 문자든 입력데이터는 string 타입 즉, 문자형 데이터임
                // 아래 if문에서 숫자와 비교할 때 데이터형은 문자형이어도 내용이 숫자이면 브라우저에서 자동변환하여 처리함!
                // 예전엔 Number(문자형숫자)로 변환했었음

                /*********************************************************************
                함수명 : initFn
                기능 : 초기화 및 메시지 출력
            *********************************************************************/
                var initFn = function (txt) {
                    // txt는 메시지를 전달받는 파라미터변수임!

                    // 0. 함수 호출 확인하기
                    console.log("초기화 해야징~");

                    // 1. 평가출력에 내용 출력하기
                    jexp.innerText = txt;

                    // 2. 글자색 초기화 : jexp
                    jexp.style.color = "#000";

                    // 3. 칭찬스티커 초기화 : jshow
                    jshow.style.backgroundPosition = "322px 0";

                    // 4. 입력창 내용 지우기 : jumsu
                    jumsu.value = "";
                    // value 속성에 빈 문자값을 넣으면 기존의 내용이 지워짐

                    // 5. 입력창에 포커스 주기 : jumsu
                    jumsu.focus();
                    // focus() 내장함수는 입력창에 포커스를 준다!
                }; ////////// initFn 함수 //////////////////

                // 변수에 이름이 없는 함수(익명함수)를 할당하면, 그 변수는 함수가 된다!
                // 함수의 사용 목적 : 명령어 코드를 바로 실행하지 않고, 저장해놓고선 어떤 시점에 실행하기 위함이다

                // 익명함수는 이름이 없는 폼이다! 'function(){코드}' 이렇게 생김... 원래 함수는 function add(){}이런식으로 이름이 있자나~ 그게 없는거야!

                /*********************************************************************
                [ 숫자 여부 판별 ]
            -is Not a Number?
            ->isNaN() : 숫자가 아니니? 판별 내장 함수임!
            -즉, 브라우저 내장 함수로 이미 만들어져 있으니 그거 가져다 쓰면 됨
            -숫자가 아니면 true, 숫자면 false
            -데이터형이 String(문자)이여도 내용이 숫자면 숫자로 판별함!
            *********************************************************************/

                // 입력된 값(score) 숫자여부 판별
                console.log("숫자가 아니니?" + isNaN(score));

                // 입력된 값을 체크하는 if문
                // (1)빈 칸인지 체크하기
                if (score.trim() === "") {
                    // 초기화 함수 호출!
                    initFn("내용을 입력해주세요!");

                    // 함수 빠져나가기
                    return;
                }
                // (2)숫자가 아닌지 체크하기
                else if (isNaN(score)) {
                    // alert("숫자가 아니니 돌아가!");

                    // 초기화 함수 호출!
                    initFn("숫자만 입력해주세요!");

                    // 함수에서 아래쪽 코드가 실행되지 않도록! 함수를 여기에서 빠져나가게 하는 방법은?
                    // return 키워드(예약어)를 사용하면 된다!!!!
                    // -만나는 순간 그 즉시 빠져나간다
                    // 리턴은 함수에서 어떤 값을 함수를 호출한 곳으로 가져가거나 함수를 끝낼 때 사용한다
                    // return 어떤 값 -> 리턴 뒤에 값을 안 쓸 수도 있음
                    // (보통 맨 마지막에 씀)
                    return;
                }
                // (3)숫자 범위가 0 미만 100초과일 경우 메시지 출력하기
                else if (score < 0 || score > 100) {
                    // 초기화 함수 호출
                    initFn("0이상 100이하의 숫자만 입력하세요!");

                    // 함수 빠져나가기
                    return;
                }

                // 변수 만들기 /////////////////////////

                // 메시지 변수
                var msg;
                // 글자색 변수
                var fc;
                // 배경위치 변수
                var bgp;

                // 4. 메시지 만들기
                // 점수에 따른 메시지를 if문으로 작성한다!
                // if(true(=1)/false(=0)){코드}
                // -> if문의 소괄호()안이 true일때만 코드 실행됨!
                // (1과 0이 아닌 다른 숫자를 써도 true 처리하나봐; 코드 실행됨...!)

                // msg = "ㅋㅋ";

                // else if문을 썼을 때는, 범위지정이 필요 없다!
                // (위에서부터 하나씩 내려오면서 들어가니까... 그 중 한군데에 들어가면 아예 밖으로 나와버리니까~)
                if (score >= 90) {
                    msg = "매우 잘함";
                    fc = "blue";
                    bgp = "0 0";
                } else if (score >= 80) {
                    msg = "잘함";
                    fc = "green";
                    bgp = "-322px 0";
                } else if (score >= 70) {
                    msg = "보통";
                    fc = "purple";
                    bgp = "-322px -322px";
                } else if (score >= 60) {
                    msg = "노력요함";
                    fc = "orange";
                    bgp = "0 -644px";
                } else {
                    msg = "재시험";
                    fc = "red";
                    bgp = "-644px -644px";
                }

                // console.log("글자색 : " + fc + " \n배경위치 : " + bgp);
                // \n : 역슬래쉬n은 엔터 기호임!

                // else문을 끝에 사용할 경우, 위의 조건에 모두 맞지 않으면 처리하게 됨
                // else문을 때문에 msg는 반드시 할당값을 가지게 됨!

                // if문을 else if 없이 따로 쓰면, 반드시 범위를 지정해야 함!
                // 왜? 모든 if문을 검사하므로!!!
                /* if(score >= 90){
                msg = "매우 잘함";
            }

            if(score >= 80 && score < 90){
                msg = "잘함";
            }

            if(score >= 70 && score < 80){
                msg = "보통";
            } */

                // if문의 조건문(소괄호 안을 말함)에 'undefined'는 false처리됨
                // if문 조건문에 할당된 변수가 들어가면 일반적으로 true처리됨
                // 숫자나 일반 값을 쓰면 true처리됨
                // 동등비교 연산자를 할당연산자로 쓰면 true처리됨 : if(aa=1) -> 이건 true처리됨

                // 변수 msg에 할당하지 않고 선언만 한 경우
                // 값을 출력시 'undefined'(정의 되지 않은 값)가 나옴
                // 이것도 기본값 중 하나임!

                // 5. 화면 출력 : #jexp -> jexp변수
                jexp.innerText = "평가 결과는 " + msg;

                // 6. 글자색 변경 :#jexp의 style 중 color를 변경
                jexp.style.color = fc;
                // fc는 점수대별 글자색을 할당한 변수

                // 7. 칭찬스티커 배경위치 변경 : #jshow -> jshow 변수
                jshow.style.backgroundPosition = bgp;
                // bgp는 배경이미지 위치값을 할당한 변수
            } // jumsu 함수 ///////////////////////////////

            /*****************************************************************************
            [ if문 ]
        -조건문을 검사하여 true이면 중괄호{} 안의 코드가 실행되는 제어문!
        
        -조건문이란? 결과가 true / false로 나오는 구문
        (비교연산자, 논리연산자를 쓰는 것....)

        -구문
        _____________________________________________________________
        if(조건문){
            실행 코드
        }
        else if(조건문){
            실행 코드
        }
        ...
        else{
            실행 코드
        }
        ________________________________________________________________

        -구문해석
        1. if문은 단독으로 따로 사용 가능함
        
        2. else if문은 if문 뒤에 또는 else if문 뒤에만 사용 가능함
        (else if로 시작할 수 없음)
        ->하나의 조건에 걸리면 다른 조건문에는 들어가지 않음!
        ->단독으로 else if문 사용 불가
        
        3. else문은 모든 조건에 해당하는 게 없을 때, 무조건 실행할 코드가 있을 경우 사용함
        (else문 안 써도 됨)
        ->if문 가장 끝에 사용한다!
        ->단독으로 else문만 사용 불가!

        ※ 참고 : if문의 실행문이 하나이면 중괄호{} 생략 가능함
        ex)
            if(aa>10){
                my = "ㅎㅎㅎ";
            }
        ->생략해서 아래처럼 사용 가능
            if(aa>10) my = "ㅎㅎㅎ";

        
        
        *****************************************************************************/

            /*******************************************************
            함수명 : local
            기능 : 지역명을 입력하면 지역 국번을 안내한다!
        *******************************************************/
            function local() {
                // 1.호출확인
                console.log("지역국번이 뭐야?");

                // 2. 대상선정
                // 2-1. 입력 대상 : input#local
                var tg = document.querySelector("#local");

                // 2-2. 출력 대상 : #info
                var info = document.querySelector("#info");

                // console.log(tg, info);

                // 3. 입력된 값 읽어오기 -> 지역명
                var txt = tg.value;
                // 요소.value : 요소의 value값 읽기 / 쓰기

                console.log("지역명 : " + txt);

                // 메시지 변수 ////////////////////
                var msg;

                // 4. 지역명을 switch case문으로 분류하여 메시지 넣기
                switch (txt) {
                    case "서울":
                        msg = "02";
                        break;
                    case "경기":
                        msg = "031";
                        break;
                    case "인천":
                        msg = "032";
                        break;
                    case "부산":
                        msg = "051";
                        break;
                    case "대구":
                        msg = "053";
                        break;
                    case "광주":
                        msg = "062";
                        break;
                    case "전북":
                        msg = "063";
                        break;
                    case "전남":
                        msg = "061";
                        break;
                    case "경북":
                        msg = "054";
                        break;
                    case "경남":
                        msg = "055";
                        break;
                    case "세종":
                        msg = "044";
                        break;
                    case "울산":
                        msg = "052";
                        break;
                    case "대전":
                        msg = "042";
                        break;
                    case "충북":
                        msg = "043";
                        break;
                    case "충남":
                        msg = "041";
                        break;
                    case "제주":
                        msg = "064";
                        break;
                    case "나성":
                        msg = "나성에 가면 편지를 전해줘요♬";
                        break;
                    default:
                        msg = "esc";
                }

                console.log("메시지 : " + msg);

                // 5. 메시지 만들기
                // msg 변수에 최종 출력 내용을 다시 담아서 변경함
                if (msg === "esc") {
                    msg = "등록되지 않은 지역입니다!";
                } /////// if문 끝
                else {
                    msg = `${txt}의 지역번호는 ${msg}입니다!`;
                } //////// else문 끝

                // 6. 화면출력
                // 출력 대상 : #info -> info
                info.innerText = msg;
                // msg변수에는 최종 출력 메시지가 할당되어 있다!!
            } // local 함수 //////////////////////////////////////////
            // 선언함수 : 브라우저가 페이지가 얘부터 먼저 읽어줌!.....어쩌고저쩌고.....

            /************************************************************
            [ switch case문 ]
        -단일 조건을 분류하여 실행문을 만들어 줄 때 사용하는 제어문

        -구문구조
        __________________________________________________________
        switch(변수){
            case 경우1: 실행 코드; break;
            case 경우2: 실행 코드; break;
            case 경우3: 실행 코드; break;
            ...
            default: 실행문;
        }
        ___________________________________________________________

        -구문해석
        1. 변수값에 해당하는 경우 그 값에 해당하는 case에 들어가서 실행코드를 실행함

        2. 각 case 끝에 break 예약어를 반드시 써야 함!!
        ->안 쓰면 다른 case에 또 들어가는 경우가 생김
        (그 조건에 해당되지 않아도 그냥 막 들어가버림~)
        ->일반적으로 break 키워드는 제어문을 빠져나갈 때 씀

        3. default는 if문의 else문과 비슷하여, 해당 케이스가 없으면 이 부분이 실행됨(단, 필요시에만 쓰면 된다~)
        ->default문에는 break를 쓰지 않는다


        ************************************************************/
        </script>

        <style>
            /* 칭찬스티커 */
            #jshow {
                position: absolute;
                top: -12px;
                left: 131px;
                width: 322px;
                height: 322px;
                background: url(./images/ifshow.jpg) no-repeat;
                /* 배경이미지 포지션으로 이미지변경하기
            ->처음에 안보이게 함 */
                background-position: 322px 0px;
                transform: scale(0.3);
                /* 트랜지션 : 속시이지 */
                transition: all 0.4s ease-out;
            }
            /* ir(배경이미지 설명 숨기기) */
            .ir {
                display: block;
                width: 0;
                height: 0;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <h1>JS 제어문</h1>
        <hr />
        <!-- if문 연습 -->
        <h2>if문 연습</h2>
        <h3 id="jexp">평가 출력</h3>
        <label for="jumsu">점수입력 : </label>
        <input
            type="text"
            id="jumsu"
            placeholder="점수를 입력하세요"
            maxlength="3"
            onkeypress="if(event.keyCode===13){jumsu()}"
        />
        <!-- 
        [ onkeypress 이벤트 속성 ]
    -키보드를 치면 발생하는 이벤트 속성 if 조건문
    -조건식 : event.keyCode === 13
    ->키보드의 키코드가 13번이냐? 엔터키 눌렀냐?
    ->엔터키의 키코드는 13번이다!
    ->true면 jumsu()메서드 호출해라!
    (키코드 관련 아스키코드가 따로 있긴 함,,,,)
    -참고 : 키코드 관련 아스키 코드 정보는 아래에!
    https://www.w3schools.com/charsets/ref_html_ascii.asp

    -->

        <!-- 버튼 클릭시 클릭 이벤트 속성과 미리 만든 함수를 연결한다! -->
        <button class="sbtn" onclick="jumsu()">평가하기</button>

        <!-- 
        [ label 요소 ]
    -input 요소의 설명 라벨 요소
    -for 속성 : 클릭시 아이디 input요소로 포커스 이동
    
        [ input 요소 : 입력요소 ]
    -type = "text" => 글자 입력창
    -placeholder => 안내 문구 출력
    -maxlength => 최대 입력 글자수 제한
    -->

        <!-- 칭찬스티커 -->
        <div id="jshow">
            <span class="ir">칭찬스티커</span>
        </div>

        <br /><br />
        <hr />
        <!-- switch case문 연습 -->
        <h2>switch case문 연습</h2>
        <h3 id="info">국번 안내</h3>
        <label for="local">지역명 입력 : </label>
        <input
            type="text"
            id="local"
            placeholder="지역명을 '도'를 빼고 쓰세요!"
            maxlength="10"
            onkeypress="if(event.keyCode === 13)local()"
        />
        <button class="sbtn" onclick="local()">국번문의</button>
    </body>
</html>
