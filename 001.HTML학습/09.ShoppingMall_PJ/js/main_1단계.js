// ÏáºÌïëÎ™∞ Î∞∞ÎÑà JS - 01.Í∞ÄÎ°úÎ∞©Ìñ• Î∞∞ÎÑà Ïä¨ÎùºÏù¥Îìú //

// HTMLÌÉúÍ∑∏ Î°úÎî©ÌõÑ loadFnÌï®Ïàò Ìò∏Ï∂ú! ///
window.addEventListener("DOMContentLoaded", loadFn);

/***************************************************** 
    [ Ïä¨ÎùºÏù¥Îìú Ïù¥Îèô Í∏∞Îä•Ï†ïÏùò ]
    1. Ïù¥Î≤§Ìä∏ Ï¢ÖÎ•ò: click
    2. Ïù¥Î≤§Ìä∏ ÎåÄÏÉÅ: Ïù¥ÎèôÎ≤ÑÌäº(.abtn)
    3. Î≥ÄÍ≤Ω ÎåÄÏÉÅ: Ïä¨ÎùºÏù¥Îìú Î∞ïÏä§(#slide)
    4. Í∏∞Îä• ÏÑ§Í≥Ñ:

        (1) Ïò§Î•∏Ï™Ω Î≤ÑÌäº ÌÅ¥Î¶≠Ïãú Îã§Ïùå Ïä¨ÎùºÏù¥ÎìúÍ∞Ä
            ÎÇòÌÉÄÎÇòÎèÑÎ°ù Ïä¨ÎùºÏù¥Îìú Î∞ïÏä§Ïùò leftÍ∞íÏùÑ
            -100%Î°ú Î≥ÄÍ≤ΩÏãúÌÇ®Îã§.
            -> Ïä¨ÎùºÏù¥Îìú Ïù¥ÎèôÌõÑ!!! 
            Î∞îÍπ•Ïóê ÎÇòÍ∞ÄÏûàÎäî Ï≤´Î≤àÏß∏ Ïä¨ÎùºÏù¥Îìú
            liÎ•º ÏûòÎùºÏÑú Îß®Îí§Î°ú Î≥¥ÎÇ∏Îã§!
            ÎèôÏãúÏóê leftÍ∞íÏùÑ 0ÏúºÎ°ú Î≥ÄÍ≤ΩÌïúÎã§!

        (2) ÏôºÏ™ΩÎ≤ÑÌäº ÌÅ¥Î¶≠Ïãú Ïù¥Ï†Ñ Ïä¨ÎùºÏù¥ÎìúÍ∞Ä
            ÎÇòÌÉÄÎÇòÎèÑÎ°ù ÌïòÍ∏∞ÏúÑÌï¥ Ïö∞ÏÑ† Îß®Îí§ liÎ•º
            Îß®ÏïûÏúºÎ°ú Ïù¥ÎèôÌïòÍ≥† ÎèôÏãúÏóê leftÍ∞íÏùÑ
            -100%Î°ú Î≥ÄÍ≤ΩÌïúÎã§.
            Í∑∏ ÌõÑ leftÍ∞íÏùÑ 0ÏúºÎ°ú Ïï†ÎãàÎ©îÏù¥ÏÖòÌïòÏó¨
            Ïä¨ÎùºÏù¥ÎìúÍ∞Ä ÏôºÏ™ΩÏóêÏÑú Îì§Ïñ¥Ïò®Îã§.

        (3) Í≥µÌÜµÍ∏∞Îä•: Ïä¨ÎùºÏù¥Îìú ÏúÑÏπòÌëúÏãú Î∏îÎ¶ø
            - Î∏îÎ¶ø ÎåÄÏÉÅ: .indic li
            - Î≥ÄÍ≤Ω ÎÇ¥Ïö©: Ïä¨ÎùºÏù¥Îìú ÏàúÎ≤àÍ≥º Í∞ôÏùÄ ÏàúÎ≤àÏùò
            liÏóê ÌÅ¥ÎûòÏä§ "on"Ï£ºÍ∏∞(ÎÇòÎ®∏ÏßÑ ÎπºÍ∏∞->Ï¥àÍ∏∞Ìôî!)

*****************************************************/

/****************************************** 
    Ìï®ÏàòÎ™Ö: loadFn
    Í∏∞Îä•: Î°úÎî© ÌõÑ Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î∞è Í∏∞Îä•Íµ¨ÌòÑ
******************************************/

function loadFn(){
    // 0.Ìò∏Ï∂ú ÌôïÏù∏
    console.log("Î°úÎî© ÏôÑÎ£å!");

    // üåàÏä¨ÎùºÏù¥Îìú Î≤àÌò∏ Î≥ÄÏàò ÎßåÎì§Í∏∞! : 0~4ÍπåÏßÄ Îã¥ÏúºÎ†§Í≥†
    let snum = 0;
    // üåàÏä¨ÎùºÏù¥Îìú Í∞úÏàò Î≥ÄÏàò ÎßåÎì§Í∏∞ : Í∞úÏàò ÏïåÍ≥† Ïã∂ÏúºÎ©¥ .lengthÎ•º ÏÇ¨Ïö©ÌïòÎ©¥ Îê®
    let scnt = document.querySelectorAll("#slide>li").length;
    console.log("Ïä¨Í∞úÏàò: ", scnt);

    // 1.ÎåÄÏÉÅ ÏÑ†Ï†ï
    // 1-1.Ïù¥Î≤§Ìä∏ ÎåÄÏÉÅ : .abtn
    const abtn = document.querySelectorAll(".abtn");
    // console.log(abtn);

    // 1-2. Î≥ÄÍ≤Ω ÎåÄÏÉÅ : #slide
    const slide = document.querySelector("#slide");

    // 2.Ïä¨ÎùºÏù¥Îìú Î≥ÄÍ≤Ω Ìï®Ïàò ÎßåÎì§Í∏∞ - Ìï†ÎãπÌòï Ìï®ÏàòÎ°ú ÎßåÎì§Í∏∞
    const goSlide = (seq)=>{
        // 2-0. ÌôïÏù∏
        console.log("Ïä¨ÎùºÏù¥ÎìúÍ≥†Ïö∞!", seq);

        // 2-1. Î∞©Ìñ•Ïóê Îî∞Î•∏ Î∂ÑÍ∏∞
        // 2-1-1. Ïò§Î•∏Ï™Ω Î≤ÑÌäº ÌÅ¥Î¶≠Ïãú : seq===1
        if(seq){
            
            // Ïä¨ÎùºÏù¥Îìú Î≤àÌò∏ Ï¶ùÍ∞ÄÏãúÌÇ§Í∏∞!
            snum++;

            // ÌôïÏù∏
            console.log("Ïò§Î•∏!", snum);
        }
        // 2-1-2. ÏôºÏ™Ω Î≤ÑÌäº ÌÅ¥Î¶≠Ïãú : seq===0
        else{
            
            // Ïä¨ÎùºÏù¥Îìú Î≤àÌò∏ Í∞êÏÜåÏãúÌÇ§Í∏∞!
            snum--;

            // ÌôïÏù∏
            console.log("Ïôº!", snum);
        }

        // 4.ÌïúÍ≥ÑÍ∞í Ï≤¥ÌÅ¨ÌïòÍ∏∞ (5Î≤àÎ∂ÄÌÑ∞Îäî ÏóÜÏúºÎãàÍπå ÎÑòÏñ¥Í∞ÄÏßÄ ÏïäÎèÑÎ°ù Ï†úÏñ¥Ìï¥Ï§òÏïºÌï® / Îß® ÏôºÏ™ΩÏúºÎ°ú Í∞îÏùÑ ÎïåÎèÑ ÎßàÏ∞¨Í∞ÄÏßÄÏûÑ)
        // : Ï≤òÏùåÏù¥Ï†Ñ -> ÎÅùÏúºÎ°ú Ïù¥Îèô, ÎÅùÎã§Ïùå -> Ï≤òÏùåÏúºÎ°ú Ïù¥ÎèôÌïòÎèÑÎ°ù ÎßåÎì§Í∏∞
        if(snum===-1) snum = scnt - 1;
        else if(snum === scnt) snum = 0;


        // üíïÏïÑÏòà Ïù¥Îèô Î™ªÌïòÍ≤å ÎßâÏïÑÎëêÎäî Î∞©Î≤ïÎèÑ ÏûàÏùå
        // if(snum===-1) snum = 0;
        // else if(snum === scnt) snum = scnt - 1;

        // 2-2. Ïù¥ÎèôÌïòÍ∏∞
        // Ïù¥Îèô ÎåÄÏÉÅ : slideÎ≥ÄÏàò
        slide.style.left = (snum*-100)+"%";
        slide.style.transition = "left .4s ease-in-out";
    }; //////////////// goSlide Ìï®Ïàò ÎÅù /////////////////////

    // 3.ÎåÄÏÉÅÏóê Ïù¥Î≤§Ìä∏ ÏÑ§Ï†ïÌïòÍ∏∞
    // : abtnÎ≤ÑÌäº ÌÅ¥Î¶≠ÌïòÎ©¥ 
    abtn.forEach((ele, idx)=>{
        ele.onclick = ()=>{
            goSlide(idx);
        }; //////////// onclick ÎÅù ///////////////
    }); //////////////////////// forEach ÎÅù /////////////////////////////

} //////////////// loadFn Ìï®Ïàò ///////////////
/////////////////////////////////////////////