// ë·°JS ë°ì´í„° ì²˜ë¦¬ JS - vueData.js

//  ë·°ì—‘ìŠ¤ ìŠ¤í† ì–´ ë¶ˆëŸ¬ì˜¤ê¸°
import store from "./vuedata-store.js";


// ì»´í¬ë„ŒíŠ¸ ìƒì„±í•˜ê¸°
Vue.component("my-comp",{
    // ë·°.ì»´í¬ë„ŒíŠ¸(ë“¤ì–´ê°ˆëª¨ì²´ì„ íƒ(ì‚¬ìš©ìì§€ì •íƒœê·¸ëª…), {ì˜µì…˜})
    template:`
    <div class="grid">
        <div v-for="(v,i) in $store.state.items.data">
            <img v-bind:src="
                './img_gallery/' + v.idx + '.jpg'
            " alt="dress">
            <aside>
                <h2>{{v.gname}}</h2>
                <h3>{{v.gprice}}</h3>
            </aside>
        </div>
    </div>
    `,
    data(){
        // ì»´í¬ì™€ ë·°ì¸ìŠ¤í„´ìŠ¤ì™€ì˜ ê°€ì¥í°ì°¨ì´ì ì¤‘í•˜ë‚˜! ë°ì´í„°ì„¸íŒ…ë¶€ë¶„!!
        return {
            myt: "ë‚˜ì•¼ë‚˜ì•¼ë‚˜!",
        }
    }
})

// ë·°ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ê¸°
new Vue({
    el:"#app",
    store, //â­ë·°ì—‘ìŠ¤ ìŠ¤í† ì–´ ë“±ë¡ í•„ìˆ˜â­
    // ğŸ‘‡ë·° ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‚¬ìš©í•  ë°ì´í„° - ë°ì´í„° êµ¬ì—­
    data:{
        // jsonë°ì´í„° ë‹´ì„ ë³€ìˆ˜ - items
        items: {},
        myt: "ë‚˜ì•¼ë‚˜!",
    },
    // ğŸ‘‡ë·° ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì§í›„(ê°€ìƒDOM/DOM ìƒì„± ì „) êµ¬ì—­ - ë°ì´í„°ëŠ” ë¯¸ë¦¬ ì½ì–´ì„œ ê¹”ì•„ë‘˜ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ì—¬ê¸°ì—!
    created(){
        // ì—‘ì‹œì˜¤ìŠ¤ ì‚¬ìš©í•˜ì—¬ ì œì´ìŠ¨ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        // axios.get(ì œì´ìŠ¨íŒŒì¼).then(ë°ì´í„°=>ë‹´ì„ë³€ìˆ˜=ë°ì´í„°);
        // ì œì´ìŠ¨íŒŒì¼ì´ ë°›ì•„ì§€ê³ ë‚˜ë©´(thenê·¸ëŸ¬ê³ ë‚˜ë©´) í• ë‹¹í•´ì¤€ë‹¤ëŠ” ëœ»ì„
        axios.get("./js/data.json")
        .then(x=>store.state.items = x);

        // ìŠ¤í† ì–´ì˜ items ì „ì—­ë³€ìˆ˜ì— ì„¸íŒ…í•¨!
        console.log(store.state.items);
    }, ////////////// created ////////////////
}); //////////////// ë·° ì¸ìŠ¤í„´ìŠ¤ /////////////////////
