// ë³´ê·¸ PJ ì¹´í…Œê³ ë¦¬ íŽ˜ì´ì§€ JS - category.js //////

// ðŸŒ·1.ë„˜ì–´ì˜¨ url ë°›ê¸° : ë„˜ì–´ì˜¨ urlì€ ë¡œë”©êµ¬ì—­ ë°–ì—ì„œ ë°›ì•„ë„ ëœë‹¤!
let pm = location.href;
// : location.hrefì´ ì´í€„(=)ì˜ ì˜¤ë¥¸ìª½ì— ìžˆìœ¼ë©´ urlì£¼ì†Œë¥¼ ì½ì–´ì˜¨ë‹¤!
// : ì—¬ê¸°ì„œ "pm"ì€ parameterì˜ ì¤„ìž„ë§ë¡œ ì“°ì…¨ìŒ~ (ì „ë‹¬ê°’ ë³€ìˆ˜ ì˜ë¯¸!)

// ë§Œì•½ ë©”ë‰´ë¥¼ í´ë¦­í•´ì„œ ì—´ì–´ì„œ íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ê²½ìš°, ë¬¼ìŒí‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì—†ìœ¼ë©´ ëŒë ¤ë³´ë‚´ê¸°!
if(pm.indexOf("?") === -1){
    // -1ì€ ì—†ëŠ” ê²½ìš°ë¥¼ ë‚˜íƒ€ëƒ„
    location.href = "index.html";
} ////////////////////// if : ë¬¼ìŒí‘œê°€ ì—†ëŠ” ê²½ìš° /////////////////////////////
// console.log("ë¬¼ìŒí‘œ ìœ„ì¹˜: ",pm.indexOf("?"));

// 2.ë¬¸ìžì—´ ìž˜ë¼ì„œ ê°’ìœ¼ë¡œ ì½ì–´ì˜¤ê¸°
// : ìœ„ì— let pmì— í• ë‹¹í• ë•Œ hrefì˜ ë°”ë¡œ ë’¤ì—ì„œ... split()ì„ ì¨ì„œ ìž˜ë¼ì„œ ì“¸ ìˆ˜ëŠ” ì—†ìŒ!
// : ë¬¼ìŒí‘œë¡œ ìž˜ë¼ì„œ ë‘ë²ˆì§¸ ê°’, ì´í€„ë¡œ ìž˜ë¼ì„œ ë‘ë²ˆì§¸ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒìž„
pm = pm.split("?")[1].split("=")[1];

// 3.pmê°’ íŠ¹ìˆ˜ë¬¸ìž ë³µì›í•˜ê¸° : ë””ì½”ë”©í•˜ê¸°!
pm = decodeURIComponent(pm);

// 4.í˜¸ì¶œí™•ì¸
console.log(pm);


////////////////////////////////////// jQB ë¡œë”© êµ¬ì—­ ////////////////////////////////////////
$(()=>{
    console.log("jQB ë¡œë”© ì™„ë£Œ");


    // ë·°JS ë°ì´í„° ë°”ì¸ë”© ì½”ë“œ /////////////////////
    new Vue({
        // ëŒ€ìƒ ì„ ì • : ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ ìš”ì†Œ
        el: "#cont",
        data: {
            items: {}, // ì œì´ìŠ¨ ë°ì´í„° ë£¨íŠ¸ì— ë§žì¶° ì¤‘ê´„í˜¸{}ë¥¼ ì”€
            // íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ ê°’ì„ ê²½ë¡œê°’ê³¼ ë¹„êµí•˜ê¸° ìœ„í•´ ë·°js ë°ì´í„° ë³€ìˆ˜ë¡œ ì„¸íŒ…í•œë‹¤!
            catName: pm.replace(" & ", "-")
        },
        mounted: function(){
            // ì—‘ì‹œì˜¤ìŠ¤ë¡œ ì œì´ìŠ¨ ì—°ê²°í•˜ì—¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            axios.get("./js/mdata.json").then(x=>this.items = x);
        }
    }); /////////////////// Vue ///////////////////////////

}); //////////////////////////// jQB /////////////////////////////////////