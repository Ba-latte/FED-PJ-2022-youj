<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title> append()활용  </title>
<!-- jQuery library -->
<script src="jquery-1.7.2.min.js"></script>
	<script>
	$(function(){// jQB //////////////////////////
		// 🎈미션: 추가버튼을 클릭하면 이미지가 랜덤하게 #container에 추가되게하시오.
		// 🎈들어가는 이미지 : th_pic어쩌고..
		// 🎈추가버튼 : #append

		// 🎈코딩
		// $("#append").click(()=>{
		// 	$("#container").append(`<img src="th_pic1.jpg" alt="랜덤이미지">`);
		// });
		

		// 🎈좀더 세련된 코딩^^ -> 중복코드 제거!
		// 변경대상 : #container
		const tg = $("#container");
		$("#append").click(()=>{
			// 1~5사이의 랜덤 수 만들기
			let rdm = Math.ceil(Math.random()*5);
			// console.log("랜덤 수 : ", rdm);

			// 새로운 이미지 추가하기
			tg.append(`<img src="th_pic${rdm}.jpg" alt="랜덤이미지">`);
		});

		// 🎈추가미션: 자동버튼(#auto) 클릭시 인터벌함수로 랜덤수 이미지 계속 추가하기 기능 구현 + 멈춤버튼(#stop) 클릭시 인터벌함수 멈추기!
		// 1.변수선언하기
		// (1)인터발용 변수
		let autoI;
		// 2.인터발관련 JS 내장함수 : setInterval(함수, 시간) / clearInterval(변수)
		

		// setInterval(()=>{
		// 	$("#auto").click(()=>{
		// 	tg.append(`<img src="th_pic1.jpg" alt="랜덤이미지">`);
		// });
		// }, 1000);
		

		
		// 🎈쌤 답
		// 자동버튼 클릭시
		// $("#auto").click(()=>{
		// 	autoI = setInterval(()=>{
		// 		// 1~5사이의 랜덤 수 만들기
		// 		let rdm = Math.ceil(Math.random()*5);

		// 		tg.append(`<img src="th_pic${rdm}.jpg" alt="랜덤이미지">`);

		// 	}, 1000);
		// });

		// 멈춤버튼 클릭시
		// $("stop").click(clearInterval(autoI));

		// ->>이렇게만 해둔다면! 자동버튼 광클시 인터벌함수가 여러번 적용되어서 기능이 이상하게 망가짐!!! 인터발 중복실행방지 기능을 넣어둬야함!!


		// 🎈썜 답 : 제대로된 답
		$("#auto").click(()=>{

			// 인터발 중복실행방지
			if(autoI) return;
			// autoI가 할당되면 true로 처리됨
			// 할당 전에는 undefined이므로 false처리되어서 아래 코드로 내려가서 실행됨!!
			
			autoI = setInterval(()=>{
				// 1~5사이의 랜덤 수 만들기
				// let rdm = Math.ceil(Math.random()*5);

				// tg.append(`<img src="th_pic${rdm}.jpg" alt="랜덤이미지">`);

				// 위의 코드가 2번이나 쓰이니까, 다른 방법을 이용해보면!
				$("#append").trigger("click");
				// trigger(이벤트명) 메서드 : 선택한 요소에 이벤트를 강제로 발생시키는 메서드임!
				// 얘는 제이쿼리용임!
				// js에서는 click() 메서드 형태로 트리거시킬수있음! (모든 이벤트가 다 이렇게 되지는 않음)
				// ex) document.선택자.click()

			}, 1000);
		});

		// 멈춤버튼 클릭시
		$("#stop").click(()=>{
			
			clearInterval(autoI);


			// 다시 인터발 처리하도록 autoI 값 설정해야 함 (멈춰놓고 처리해야함)
			autoI = false;
			// 굳이 undefined로 만들 필요 없음!
		});
		
		
		
	
		
		
	});/// jQB ////////////////////////////////////
	//////////////////////////////////////////////
	
	
	</script>
	
	
	
	
<style>
  div {border:#00F solid 1px;}
</style>
</head>
 
<body>

<button id ="append"  title="append">추가</button>
<button id="auto">자동</button>
<button id="stop">멈춤</button>

<div id="container"></div>

	
<!---------- jQuery code Start ---------->
<script>
          


</script>

</body>
</html>
