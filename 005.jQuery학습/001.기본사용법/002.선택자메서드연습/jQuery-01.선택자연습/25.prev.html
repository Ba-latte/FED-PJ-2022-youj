<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title> Traversal- prev </title>
<!-- jQuery library -->
<script src="../jquery-3.6.3.min.js"></script>
<script src="../jquery-ui.min.js"></script>
<script>
$(document).ready(function(e) {

  /*
    [ 3. prev() - 선택요소 이전 형제요소 선택 ]
  -요소 종류 상관 없이! 무조건 형제인 요소 선택함
    [ 4. prevAll() - 선택요소 이전 형제요소 전부 선택 ]
  */
	
	// 미션: 마지막 p태그를 클릭하면 0.5초 간격으로 이전 형제요소의 배경색을 차례로 넣으시오.
	// animate() 사용.
	// first(), last() 사용
  
  let last = $("#container").children("p").last();
  // .children("p") : 직계 p요소 
  // .last() : 마지막 p요소

  last.click(function(){
    $(this)// 클릭된 p요소
    .animate({backgroundColor:"red"}, 500) // .animate({css 설정}, 시간, 이징, 함수)
    .prev() // 앞에 있는 p요소
    .delay(1000) // 1초 기다렸다 실행하기
    // 딜레이는 아무데서나 먹히지 않음! animate되는 애들만 적용됨!
    .animate({backgroundColor:"yellow"}, 500) // 0.5초 동안 배경색을 노란색으로 변경
    .prev() // 앞에 있는 p요소
    .delay(2000) // 앞의 요소 동작, 1초 기다렸다 실행하기
    .animate({backgroundColor:"lime"}, 500) // 0.5초 동안 배경색을 라임색으로 변경
    .prev() // 앞에 있는 div요소
    .find("p") // div요소 안에 있는 p요소
    .delay(3000) // 앞의 요소 동작, 1초 기다렸다 실행하기 (요소가 이동돼서 새로이 세팅되므로 시간 누적시켜서 적용해야함)
    .animate({backgroundColor:"green"}, 500) // 0.5초 동안 배경색을 라임색으로 변경

    
  });


  // 추가미션: .sub 아래 마지막 p태그를 클릭하면 이전 p태그 모두를 배경색 yellow, 가로,세로 크기 100px로 원으로 변경 애니메이션 하시오!
  // prevAll() 사용!
  let lastp = $(".sub").children("p").last();

  lastp.click(function(){
    $(this).prevAll()
    .animate({
      backgroundColor:"yellow",
      width:"100px",
      height:"100px",
      borderRadius:"50%"
    }, 1000);

  }); //////////// click ///////////////
	
	
});//jQuery실행구역
</script>

<style>
  div, p {float:left;margin:10px; background-color:#FFF;}
  div#sub { width:80px; height:80px; border:#000 thin solid;}
  p { width:50px; height:50px; border:#000 thin solid;}
</style>
</head>
<body>
<div id="container">

  <div id = "sub">
    <p>div p</p>
  </div>
  <p id="part1">p</p>
  <p>p</p>
  <p>p:나를클릭해!</p>

</div>
  

<div class="sub">
  <p>p</p>
  <p>p</p>
  <p>p</p>
  <p>p</p>
  <p>p:나도클릭!</p>
</div>

</body>
</html>