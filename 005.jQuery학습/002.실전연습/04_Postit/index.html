<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>drag and drop ê¸°ëŠ¥</title>
        <style>
            div.draggable {
                float: left;
                width: 160px;
                height: 160px;
                padding: 10px 0px 0px 20px;
                background: url(post.png) no-repeat;
                font-size: 14px;
            }
            /* ì¼ë°˜ ì„ íƒ,ë“œë˜ê·¸ ë§‰ê¸° */
            .draggable *{
                user-select: none;
                -webkit-user-drag: none;
            }

            div.draggable img {
                width: 130px;
                height: 80px;
            }

            div.invert {
                background: url(post2.png) no-repeat;
            }

            /* ë“œë¡­ë°•ìŠ¤ */
            .dropshow {
                width: 500px;
                height: 400px;
                text-align: center;
                background: url(addimg/effect2.jpg) no-repeat center/cover;
                font: bold 36px/400px "ë§‘ì€ ê³ ë”•", "êµ´ë¦¼";
                color: #f00;
                text-shadow: 1px 0 #fff, -1px 0 #fff, 0 1px #fff, 0 -1px #fff;
                /* ê¸€ìê·¸ë¦¼ìë¥¼ ì´ìš©í•œ í…Œë‘ë¦¬ */
                margin: 50px auto;
                /* ê°€ë¡œì¤‘ì•™ */
            }

            /* ë“œë˜ê·¸ ë°•ìŠ¤ */
            .dbox {
                width: 720px;
                height: 170px;
                margin: 0 auto;
                border: 2px dashed blue;
            }
        </style>

        <script src="jquery-3.6.0.min.js"></script>
        <script src="jquery-ui.min.js"></script>
		<!-- ê¸°ë³¸ì ìœ¼ë¡œ ë“œë˜ê·¸ ê¸°ëŠ¥ì€ ëª¨ë°”ì¼ì—ì„œëŠ” ì•ˆë¨!
		ëª¨ë°”ì¼ì´ë²¤íŠ¸ë¡œ ë³€í™˜í•´ì£¼ëŠ” ì œì´ì¿¼ë¦¬ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì¤€ë‹¤! ì•„ë˜! -->
		<script src="jquery-touch-punch.min.js"></script>
        <!-- 
		ë¯¸ë¦¬ë³´ê¸°:
		https://tombap8.github.io/FED211/004.jQueryí•™ìŠµ/jQuery-02.ì‹¤ì „ì—°ìŠµ/04.jQuery_utility/01_Postit/ready.html
        ê³µì‹ ì„¤ëª…ì„œ : https://api.jqueryui.com/draggable/
        -->
        
    </head>
    <script>
        // ì œì´ì¿¼ë¦¬ êµ¬ì—­ ///////////
        $(()=>{
            
            // 1.ë“œë˜ê·¸ ëŒ€ìƒ
            const dg = $(".draggable");

            // 2.ë“œë˜ê·¸ ì„¤ì •
            // draggable() ë©”ì„œë“œ í˜¸ì¶œë§Œìœ¼ë¡œ ë“œë˜ê·¸ì´ë™ì´ ê°€ëŠ¥í•¨
            // ì˜µì…˜ì€ ì¤‘ê´„í˜¸{}ì•ˆì— ê°ì²´ê°’ìœ¼ë¡œ ì„¸íŒ… ê°€ëŠ¥í•¨
            dg.draggable({
                // ì˜µì…˜ì€ ê°ì²´ê°’ìœ¼ë¡œ ì“°ë©´ ë¨ (ì†ì„±:ê°’)
                // (1)ì»¤ì„œ ì˜µì…˜ ë°”ê¾¸ê¸° : "ì´ë™ì¤‘" ëª¨ì–‘ìœ¼ë¡œ ë°”ê¾¸ê¸°
                cursor:"move",
                // (2)ë“œë˜ê·¸ëŒ€ìƒ ìƒìœ„ì²˜ë¦¬(zê°’ ë†’ì—¬ì£¼ê¸°)
                stack:".draggable",
                // (3)ì´ë™ì¤‘ íˆ¬ëª…ë„ ì¡°ì ˆ
                opacity:0.7,

            }); //////////// draggable ///////////////

            // [ ì»¤ìŠ¤í„°ë§ˆì´ì§• ìš”êµ¬ì‚¬í•­ ë°˜ì˜í•˜ê¸° ]

            // ğŸ’›1.ë“œë˜ê·¸ì‹œ í¬ìŠ¤íŠ¸ì‡ ì´ë¯¸ì§€ ë³€ê²½í•˜ê¸°
            // (1)ë“œë˜ê·¸ ì‹œì‘ì´ë²¤íŠ¸ ë°œìƒì‹œ ì´ë¯¸ì§€ ë³€ê²½ ìœ„í•´ í´ë˜ìŠ¤ .invert ë„£ê¸°
            // ë“œë˜ê·¸ ì‹œì‘ ì´ë²¤íŠ¸: dragstart
            // ì œì´ì¿¼ë¦¬ ë©”ì„œë“œ : on("ì´ë²¤íŠ¸ëª…", í•¨ìˆ˜)
            dg.on("dragstart", function(){
                // ëŒ€ìƒ : ëŒê³ ë‹¤ë‹ˆëŠ” ë‚˜ ìì‹ 
                $(this).addClass("invert");
                
            }); ///////////// dragstart ì´ë²¤íŠ¸ //////////////

            // (2)ë“œë˜ê·¸ ëë‚  ë•Œ ì´ë²¤íŠ¸ ë°œìƒì‹œ ì´ë¯¸ì§€ ë³€ê²½ ìœ„í•´ í´ë˜ìŠ¤ .invert ë¹¼ê¸°
            // ë“œë˜ê·¸ ì¢…ë£Œ ì´ë²¤íŠ¸: dragstop
            // ì œì´ì¿¼ë¦¬ ë©”ì„œë“œ : on("ì´ë²¤íŠ¸ëª…", í•¨ìˆ˜)
            dg.on("dragstop", function(){
                // ëŒ€ìƒ : ëŒê³ ë‹¤ë‹ˆëŠ” ë‚˜ ìì‹ 
                $(this).removeClass("invert");

            }); ///////////// dragstop ì´ë²¤íŠ¸ //////////////


            // ğŸ’›2.ë“œë¡­ ëŒ€ìƒë°•ìŠ¤ì— ë“œë¡­ë  ë•Œ ë™ì˜ìƒ ë³´ì—¬ì£¼ê¸°
            // droppable() ë©”ì„œë“œ : ë“œë¡­ë˜ëŠ” ìš”ì†Œ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œ
            // ì´ë²¤íŠ¸ ëŒ€ìƒ : .dropshow

            $(".dropshow").droppable({
                drop:function(evt, ele){
                    // evt : ì´ë²¤íŠ¸ ì „ë‹¬ ë³€ìˆ˜ / ele : ë“œë¡­ ê´€ë ¨ ê°ì²´
                    console.log("ë‚˜ ë¹ ì¡Œë‹¤~~");

                    // 1.ë“œë¡­ì˜ì—­ì˜ ë°°ê²½ ì´ë¯¸ì§€ ë³€ê²½í•˜ê¸°
                    // ë“œë¡­ëœ ìš”ì†Œ : ele.draggable
                    let isrc = ele.draggable.find("img").attr("src");
                    console.log(isrc);

                    $(this).css({
                        // ì—¬ê¸°ì„œ thisëŠ” ë“œë¡­ë°•ìŠ¤ ë‚˜ ìì‹ ì„!
                        background:`url(${isrc})`
                    })
                }
            }); ////////////// droppable ì´ë²¤íŠ¸ /////////////////






        }); ///////////// jQB //////////////////
    </script>

    <body>
        <!-- ë“œë¡­ ë°•ìŠ¤ -->
        <div class="dropshow">ì—¬ê¸°ì— ë“œë¡­í•˜ì„¸ìš”~~!</div>

        <!-- 
		w3cì—ì„œ í—ˆìš©í•˜ëŠ” ìƒˆë¡œìš´ ì†ì„±ì€ data- ë¼ëŠ” ì‹œì‘ëª…ìœ¼ë¡œ
		ì‘ì„±í•˜ë©´ ëœë‹¤!
		-> data-ë‚´ê°€ì§€ì€ì´ë¦„="ê°’"
		ì˜ˆ) data-myhouse="ê°’"
        -->

        <!-- ë“œë˜ê·¸ ë°•ìŠ¤ -->
        <div class="dbox">
            <!-- data-mvì†ì„±ì€ ë™ì˜ìƒì½”ë“œ ì…‹ì—… -->
            <div class="draggable" data-mv="67O-LdK3kFA">
                <p>ì‡¼í•‘ëª° ììœ ì´ìš©ê¶Œ</p>
                <img src="addimg/gm.jpg" alt="ì¥ë§ˆì¼“" />
            </div>
            <div class="draggable" data-mv="JDKhD-QNcvM">
                <p>ë¡¯ë–¼ì›”ë“¤ ììœ ì´ìš©ê¶Œ</p>
                <img src="addimg/lottee.jpg" alt="ë¡¯ë–¼ì›”ë“¤" />
            </div>
            <div class="draggable" data-mv="miSL86dtqis">
                <p>íì±  ììœ ì´ìš©ê¶Œ</p>
                <img src="addimg/coocha.jpg" alt="íì± " />
            </div>
            <div class="draggable" data-mv="ISTsLeAGQ9Q">
                <p>í•´ì™¸ì—¬í–‰ ììœ ì´ìš©ê¶Œ</p>
                <img src="addimg/effect1.jpg" alt="í—ˆë‚˜íˆ¬ì–´" />
            </div>
        </div>
    </body>
</html>
